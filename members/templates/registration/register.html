{% extends 'base.html' %}
{% block title %} Register | Dhi Darpan {% endblock %}
{% block content %}
{% load static %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
<style>
    .regs{
        color:orangered;
    }
    .form-text{
        display: none;
    }
    .form-control{
        border: none;
        border-bottom: 2px gray solid;
        border-radius: 0px;
    }
    .form-control:focus{
        border: none;
        outline: 0;
        border-bottom: 2px orangered solid;
        border-radius: 0px;
        box-shadow: none;
        transition: all 0.2s ease-in-out;
    }
</style>
<div class="container topgap">
    <div class="row justify-content-md-center">
        <div class="col-md-7 card mb-4 mt-3 top">
            <div class="card-body">
                <p class="card-text">
                <h2 class="centr"><b>Register</b></h2><br><br>
                <form method='post'>
                    {% csrf_token %}
                    {% render_field form.username class="form-control" hx-post="/members/check_username/" hx-swap="outerhtml" hx-trigger="keyup" hx-target="#un-error" %}
                    <div id="un-error"></div>
                    <br>
                    {% render_field form.email class="form-control" hx-post="/members/check_email/" hx-swap="outerhtml" hx-trigger="keyup" hx-target="#em-error" %}
                    <div id="em-error" style='color:red;padding-left:2%;'><small>{{ ermsg }}</small></div>
                    <br>
                    {% render_field form.first_name class="form-control" %}
                    <br>
                    {% render_field form.last_name class="form-control" %}
                    <br>
                    {% render_field form.password1 class="form-control" %}
                    <br>
                    {% render_field form.password2 class="form-control" %}
                    <div class="centr">
                        <br>
                        <input id="senb"  class="ct-btn" type="submit" value="Register">
                        <br><br>
                        Already have an account? 
                        <a href="{% url 'login' %}"> Login</a>
                    </div>
                </form>
                </p>

            </div>
        </div>
    </div>
</div>

{% endblock %}